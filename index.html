<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
  <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
  <script src="js/main.js"></script>
<body>

<iframe id="iframe" name="target" src="iframe.html" frameborder="no" scrolling="no" width="100%" ></iframe>
<div id="reciveIframe">а это инфа которую мы получили с iframe</div>

<script>
// отправка сообщения в iframe win.
window.onload = function(){
var win = document.getElementById("iframe").contentWindow;
win.postMessage("Сообщение отправлено с страницы "+location.href,"iframe.html");
 // получение сообщения из iframe
function listener(event){
    event.origin == '' 
    document.getElementById("reciveIframe").innerHTML = event.origin + " прислал: " + event.data;
}
if (window.addEventListener){
    window.addEventListener("message", listener,false);
 } else {
    window.attachEvent("onmessage", listener);
 }     
}

</script>

</body>
</html>


